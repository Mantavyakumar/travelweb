<!DOCTYPE html>
<html lang="en" class="transition duration-300">
<head>{% load static %}
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Find a Doctor - Go Quest Travel</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <!-- Tailwind for animations -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    animation: {
                        'fade-in': 'fadeIn 1s ease-out',
                        'slide-up': 'slideUp 0.8s ease-out',
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: 0 },
                            '100%': { opacity: 1 },
                        },
                        slideUp: {
                            '0%': { transform: 'translateY(20px)', opacity: 0 },
                            '100%': { transform: 'translateY(0)', opacity: 1 },
                        }
                    }
                }
            }
        }
    </script>
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #fdfdfd;
            transition: all 0.3s ease;
            margin: 0;
        }

        .navbar {
            background-color: #123f6e;
        }

        .navbar-brand img {
            height: 40px;
            margin-right: 10px;
        }

        .nav-link {
            color: #fff !important;
            transition: color 0.3s;
        }

        .nav-link.active,
        .nav-link:hover {
            color: #ffdd57 !important;
        }

        .btn-outline-light {
            border: 1px solid #fff;
            color: #fff;
        }

        .btn-outline-light:hover {
            background-color: #fff;
            color: #123f6e;
        }

        .container { 
            max-width: 1000px; 
            margin: auto; 
            padding: 20px; 
        }

        table { 
            width: 100%; 
            border-collapse: collapse; 
            margin-top: 20px; 
            background-color: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
        }

        th, td { 
            border: 1px solid #ddd; 
            padding: 12px; 
            text-align: left; 
        }

        th { 
            background-color: #f4f4f4; 
        }

        .highlight { 
            background-color: #f9f9f9; 
        }

        .navbar-nav {
            align-items: center;
        }
        
        .navbar {
            position: relative;
            z-index: 1000;
        }

        /* Dark Mode Styles */
        body.dark-mode {
            background-color: #121212;
            color: #f1f1f1;
        }

        body.dark-mode .navbar {
            background-color: #1f1f1f !important;
        }

        body.dark-mode .nav-link {
            color: #ffffff !important;
        }

        body.dark-mode .btn-outline-light {
            color: #ffffff;
            border-color: #ffffff;
        }

        body.dark-mode .btn-outline-light:hover {
            background-color: #ffffff;
            color: #121212;
        }

        body.dark-mode table,
        body.dark-mode th,
        body.dark-mode td {
            background-color: rgba(31, 31, 31, 0.9);
            color: #ffffff;
            border-color: #444;
        }

        body.dark-mode th {
            background-color: #2d2d2d;
        }

        body.dark-mode .highlight {
            background-color: #333;
        }

        body.dark-mode .form-control,
        body.dark-mode .form-select {
            background-color: #333;
            color: #fff;
            border-color: #555;
        }

        /* Search box styling */
        .search-box {
            background-color: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        body.dark-mode .search-box {
            background-color: rgba(31, 31, 31, 0.9);
        }

        /* Animation classes */
        .animate-fade-in {
            animation: fadeIn 1s ease-out;
        }

        .animate-slide-up {
            animation: slideUp 0.8s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideUp {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark" style="background-color: #123f6e;">
        <div class="container-fluid">
            <a class="navbar-brand d-flex align-items-center" href="/index/">
                <img src="{% static 'images/logo1.jpg' %}" alt="Logo" style="height: 40px;">
                <span>Go Quest Travel</span>
            </a>
        
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
        
            <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
                <ul class="navbar-nav me-3">
                    <li class="nav-item"><a class="nav-link" href="/index/">Home</a></li>
                    <li class="nav-item"><a class="nav-link" href="/medical">Medicinal Care</a></li>
                    <li class="nav-item"><a class="nav-link" href="/itenary">Itinerary Planner</a></li>
                    <li class="nav-item"><a class="nav-link active" href="/contact">contactUs</a></li>
                    <li class="nav-item"><a class="nav-link" href="/register">Register</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container animate-fade-in">
        <div class="search-box animate-slide-up">
            <h2 class="mb-4 text-2xl font-bold">Find a Doctor</h2>
            <div class="row">
                <div class="col-md-8">
                    <input type="text" id="cityInput" class="form-control" placeholder="Enter city (e.g., Dubai, Paris, Bali)">
                </div>
                <div class="col-md-2">
                    <button id="searchBtn" class="btn btn-primary w-100">Search</button>
                </div>
                <div class="col-md-2">
                    <select id="currency" class="form-select">
                        <option value="INR">INR</option>
                        <option value="USD">USD</option>
                        <option value="EUR">EUR</option>
                        <option value="AED">AED</option>
                        <option value="CHF">CHF</option>
                        <option value="IDR">IDR</option>
                        <option value="TRY">TRY</option>
                    </select>
                </div>
            </div>
        </div>

        <div class="table-responsive">
            <table id="doctorTable" class="table table-hover rounded-lg overflow-hidden">
                <thead class="thead-light">
                    <tr>
                        <th>Name</th>
                        <th>Specialization</th>
                        <th>Charges</th>
                        <th>Contact</th>
                        <th>City</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
    </div>

    <!-- Bootstrap JS Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        // Mock database of doctors (city-wise)
        const mockDoctors = {
            "kashmir": [
                { name: "Dr. Aamir Khan", specialization: "Cardiology", charges: 2500, contact: "+91 9876543210", city: "Srinagar" },
                { name: "Dr. Nusrat Fatima", specialization: "Pediatrics", charges: 1800, contact: "+91 9876543211", city: "Srinagar" },
                { name: "Dr. Irfan Shah", specialization: "Orthopedics", charges: 2200, contact: "+91 9876543212", city: "Srinagar" },
                { name: "Dr. Sameer Bhat", specialization: "Dermatology", charges: 2000, contact: "+91 9876543213", city: "Srinagar" },
                { name: "Dr. Yasmin Akhtar", specialization: "Gynecology", charges: 2300, contact: "+91 9876543214", city: "Srinagar" },
                { name: "Dr. Farooq Mir", specialization: "Neurology", charges: 3000, contact: "+91 9876543215", city: "Srinagar" },
                { name: "Dr. Asma Khan", specialization: "General Surgery", charges: 2800, contact: "+91 9876543216", city: "Srinagar" },
                { name: "Dr. Bilal Ahmad", specialization: "ENT", charges: 1700, contact: "+91 9876543217", city: "Srinagar" },
                { name: "Dr. Zainab Hassan", specialization: "Ophthalmology", charges: 1900, contact: "+91 9876543218", city: "Srinagar" },
                { name: "Dr. Omar Dar", specialization: "Psychiatry", charges: 2100, contact: "+91 9876543219", city: "Srinagar" }
            ],
            "istanbul": [
                { name: "Dr. Mehmet Yılmaz", specialization: "Cardiology", charges: 1500, contact: "+90 9876543210", city: "Istanbul" },
                { name: "Dr. Ayşe Demir", specialization: "Pediatrics", charges: 1200, contact: "+90 9876543211", city: "Istanbul" },
                { name: "Dr. Emre Kaya", specialization: "Orthopedics", charges: 1800, contact: "+90 9876543212", city: "Istanbul" },
                { name: "Dr. Fatma Şahin", specialization: "Dermatology", charges: 1300, contact: "+90 9876543213", city: "Istanbul" },
                { name: "Dr. Ali Arslan", specialization: "Neurology", charges: 2000, contact: "+90 9876543214", city: "Istanbul" },
                { name: "Dr. Zeynep Aydın", specialization: "Gynecology", charges: 1600, contact: "+90 9876543215", city: "Istanbul" },
                { name: "Dr. Can Öztürk", specialization: "ENT", charges: 1100, contact: "+90 9876543216", city: "Istanbul" },
                { name: "Dr. Seda Yıldız", specialization: "Ophthalmology", charges: 1400, contact: "+90 9876543217", city: "Istanbul" },
                { name: "Dr. Burak Koç", specialization: "General Surgery", charges: 1700, contact: "+90 9876543218", city: "Istanbul" },
                { name: "Dr. Elif Karahan", specialization: "Psychiatry", charges: 1900, contact: "+90 9876543219", city: "Istanbul" }
            ],
            "paris": [
                { name: "Dr. Jean Dupont", specialization: "Cardiology", charges: 120, contact: "+33 9876543210", city: "Paris" },
                { name: "Dr. Marie Laurent", specialization: "Pediatrics", charges: 90, contact: "+33 9876543211", city: "Paris" },
                { name: "Dr. Pierre Moreau", specialization: "Orthopedics", charges: 110, contact: "+33 9876543212", city: "Paris" },
                { name: "Dr. Sophie Martin", specialization: "Dermatology", charges: 95, contact: "+33 9876543213", city: "Paris" },
                { name: "Dr. Luc Bernard", specialization: "Neurology", charges: 150, contact: "+33 9876543214", city: "Paris" },
                { name: "Dr. Claire Petit", specialization: "Gynecology", charges: 100, contact: "+33 9876543215", city: "Paris" },
                { name: "Dr. Thomas Leroy", specialization: "ENT", charges: 85, contact: "+33 9876543216", city: "Paris" },
                { name: "Dr. Isabelle Roux", specialization: "Ophthalmology", charges: 105, contact: "+33 9876543217", city: "Paris" },
                { name: "Dr. Nicolas Girard", specialization: "General Surgery", charges: 130, contact: "+33 9876543218", city: "Paris" },
                { name: "Dr. Amélie Fournier", specialization: "Psychiatry", charges: 115, contact: "+33 9876543219", city: "Paris" }
            ],
            "bali": [
                { name: "Dr. Wayan Sutrisna", specialization: "General Medicine", charges: 800000, contact: "+62 9876543210", city: "Bali" },
                { name: "Dr. Ketut Wijaya", specialization: "Dermatology", charges: 950000, contact: "+62 9876543211", city: "Bali" },
                { name: "Dr. Nyoman Artawan", specialization: "Pediatrics", charges: 750000, contact: "+62 9876543212", city: "Bali" },
                { name: "Dr. Made Surya", specialization: "Orthopedics", charges: 1100000, contact: "+62 9876543213", city: "Bali" },
                { name: "Dr. Komang Adi", specialization: "Cardiology", charges: 1200000, contact: "+62 9876543214", city: "Bali" },
                { name: "Dr. Putu Darmawan", specialization: "ENT", charges: 700000, contact: "+62 9876543215", city: "Bali" },
                { name: "Dr. Desak Ayu", specialization: "Gynecology", charges: 900000, contact: "+62 9876543216", city: "Bali" },
                { name: "Dr. Agung Prabawa", specialization: "Neurology", charges: 1300000, contact: "+62 9876543217", city: "Bali" },
                { name: "Dr. Luh Putu", specialization: "Ophthalmology", charges: 850000, contact: "+62 9876543218", city: "Bali" },
                { name: "Dr. I Gusti Rai", specialization: "Psychiatry", charges: 1000000, contact: "+62 9876543219", city: "Bali" }
            ],
            "dubai": [
                { name: "Dr. Ahmed Al-Mansoori", specialization: "Cardiology", charges: 500, contact: "+971 9876543210", city: "Dubai" },
                { name: "Dr. Fatima Al-Hashmi", specialization: "Pediatrics", charges: 400, contact: "+971 9876543211", city: "Dubai" },
                { name: "Dr. Omar Khan", specialization: "Orthopedics", charges: 450, contact: "+971 9876543212", city: "Dubai" },
                { name: "Dr. Leila Abbas", specialization: "Dermatology", charges: 380, contact: "+971 9876543213", city: "Dubai" },
                { name: "Dr. Yusuf Ibrahim", specialization: "Neurology", charges: 550, contact: "+971 9876543214", city: "Dubai" },
                { name: "Dr. Aisha Mohammed", specialization: "Gynecology", charges: 420, contact: "+971 9876543215", city: "Dubai" },
                { name: "Dr. Karim Hassan", specialization: "ENT", charges: 350, contact: "+971 9876543216", city: "Dubai" },
                { name: "Dr. Noor Al-Farsi", specialization: "Ophthalmology", charges: 480, contact: "+971 9876543217", city: "Dubai" },
                { name: "Dr. Tariq Malik", specialization: "General Surgery", charges: 520, contact: "+971 9876543218", city: "Dubai" },
                { name: "Dr. Samira Nasser", specialization: "Psychiatry", charges: 470, contact: "+971 9876543219", city: "Dubai" }
            ],
            "geneva": [
                { name: "Dr. Jean-Luc Moreau", specialization: "Cardiology", charges: 200, contact: "+41 9876543210", city: "Geneva" },
                { name: "Dr. Sophie Laurent", specialization: "Pediatrics", charges: 180, contact: "+41 9876543211", city: "Geneva" },
                { name: "Dr. Pierre Dubois", specialization: "Orthopedics", charges: 220, contact: "+41 9876543212", city: "Geneva" },
                { name: "Dr. Marie-Claire Bernard", specialization: "Dermatology", charges: 190, contact: "+41 9876543213", city: "Geneva" },
                { name: "Dr. Marc Fischer", specialization: "Neurology", charges: 250, contact: "+41 9876543214", city: "Geneva" },
                { name: "Dr. Isabelle Keller", specialization: "Gynecology", charges: 210, contact: "+41 9876543215", city: "Geneva" },
                { name: "Dr. Thomas Weber", specialization: "ENT", charges: 170, contact: "+41 9876543216", city: "Geneva" },
                { name: "Dr. Anna Müller", specialization: "Ophthalmology", charges: 195, contact: "+41 9876543217", city: "Geneva" },
                { name: "Dr. David Schneider", specialization: "General Surgery", charges: 230, contact: "+41 9876543218", city: "Geneva" },
                { name: "Dr. Laura Meier", specialization: "Psychiatry", charges: 240, contact: "+41 9876543219", city: "Geneva" }
            ],
            "port blair": [
                { name: "Dr. Rajesh Kumar", specialization: "General Medicine", charges: 1500, contact: "+91 9876543210", city: "Port Blair" },
                { name: "Dr. Priya Singh", specialization: "Pediatrics", charges: 1300, contact: "+91 9876543211", city: "Port Blair" },
                { name: "Dr. Arun Mishra", specialization: "Orthopedics", charges: 1800, contact: "+91 9876543212", city: "Port Blair" },
                { name: "Dr. Anjali Patel", specialization: "Dermatology", charges: 1600, contact: "+91 9876543213", city: "Port Blair" },
                { name: "Dr. Vikram Aditya", specialization: "Cardiology", charges: 2000, contact: "+91 9876543214", city: "Port Blair" },
                { name: "Dr. Neha Sharma", specialization: "ENT", charges: 1200, contact: "+91 9876543215", city: "Port Blair" },
                { name: "Dr. Sunita Reddy", specialization: "Gynecology", charges: 1700, contact: "+91 9876543216", city: "Port Blair" },
                { name: "Dr. Sanjay Gupta", specialization: "Neurology", charges: 2200, contact: "+91 9876543217", city: "Port Blair" },
                { name: "Dr. Meena Kapoor", specialization: "Ophthalmology", charges: 1400, contact: "+91 9876543218", city: "Port Blair" },
                { name: "Dr. Ramesh Iyer", specialization: "Psychiatry", charges: 1900, contact: "+91 9876543219", city: "Port Blair" }
            ],
            "rome": [
                { name: "Dr. Marco Rossi", specialization: "Cardiology", charges: 100, contact: "+39 9876543210", city: "Rome" },
                { name: "Dr. Sofia Bianchi", specialization: "Pediatrics", charges: 80, contact: "+39 9876543211", city: "Rome" },
                { name: "Dr. Luca Ferrari", specialization: "Orthopedics", charges: 110, contact: "+39 9876543212", city: "Rome" },
                { name: "Dr. Giulia Romano", specialization: "Dermatology", charges: 90, contact: "+39 9876543213", city: "Rome" },
                { name: "Dr. Antonio Esposito", specialization: "Neurology", charges: 130, contact: "+39 9876543214", city: "Rome" },
                { name: "Dr. Elena Conti", specialization: "Gynecology", charges: 95, contact: "+39 9876543215", city: "Rome" },
                { name: "Dr. Paolo Rinaldi", specialization: "ENT", charges: 75, contact: "+39 9876543216", city: "Rome" },
                { name: "Dr. Francesca Marchetti", specialization: "Ophthalmology", charges: 85, contact: "+39 9876543217", city: "Rome" },
                { name: "Dr. Roberto De Luca", specialization: "General Surgery", charges: 120, contact: "+39 9876543218", city: "Rome" },
                { name: "Dr. Valentina Moretti", specialization: "Psychiatry", charges: 105, contact: "+39 9876543219", city: "Rome" }
            ]
        };

        // Currency conversion rates (simplified)
        const exchangeRates = {
            "INR": 1,
            "USD": 0.012,  // 1 INR = 0.012 USD
            "EUR": 0.011,  // 1 INR = 0.011 EUR
            "AED": 0.044, // 1 INR = 0.044 AED
            "CHF": 0.011,  // 1 INR = 0.011 CHF
            "IDR": 190,    // 1 INR = 190 IDR
            "TRY": 0.39    // 1 INR = 0.39 TRY
        };

        function fetchDoctors() {
            const city = document.getElementById("cityInput").value.trim().toLowerCase();
            const tableBody = document.querySelector("#doctorTable tbody");
            tableBody.innerHTML = "";

            if (!mockDoctors[city]) {
                tableBody.innerHTML = `<tr><td colspan="5" class="text-center py-4">No doctors found in ${city.charAt(0).toUpperCase() + city.slice(1)}. Try: Kashmir, Istanbul, Paris, Bali, Dubai, Geneva, Port Blair, Rome</td></tr>`;
                return;
            }

            mockDoctors[city].forEach(doc => {
                const row = document.createElement("tr");
                row.className = "hover:bg-gray-100 dark:hover:bg-gray-700 transition";
                row.innerHTML = `
                    <td>${doc.name}</td>
                    <td>${doc.specialization}</td>
                    <td class="charge" data-inr="${doc.charges}">${doc.charges} INR</td>
                    <td>${doc.contact}</td>
                    <td>${doc.city}</td>
                `;
                tableBody.appendChild(row);
            });

            updateCurrency();
        }

        function updateCurrency() {
            const currency = document.getElementById("currency").value;
            const rate = exchangeRates[currency];

            document.querySelectorAll(".charge").forEach(cell => {
                const inrValue = parseFloat(cell.getAttribute("data-inr"));
                let convertedValue;
                let symbol;

                switch (currency) {
                    case "USD": symbol = "$"; break;
                    case "EUR": symbol = "€"; break;
                    case "AED": symbol = "AED "; break;
                    case "CHF": symbol = "CHF "; break;
                    case "IDR": symbol = "IDR "; break;
                    case "TRY": symbol = "₺"; break;
                    default: symbol = "₹"; break;
                }

                convertedValue = (inrValue * rate).toFixed(2);
                if (currency === "IDR") {
                    convertedValue = Math.round(inrValue * rate).toLocaleString();
                }

                cell.textContent = `${symbol}${convertedValue}`;
            });
        }

        // Event Listeners
        document.addEventListener('DOMContentLoaded', function() {
            // Search button click
            document.getElementById('searchBtn').addEventListener('click', fetchDoctors);
            
            // Currency selector change
            document.getElementById('currency').addEventListener('change', updateCurrency);
            
            // Enter key in input field
            document.getElementById('cityInput').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    fetchDoctors();
                }
            });
        });
    </script>
</body>
</html>